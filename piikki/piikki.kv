#:import sm kivy.uix.screenmanager

#:set list_height 100
#:set manage_list_height 100
#:set manage_list_color (1, 1  , .6, .5)
#:set background_color (0, 0.5, 0.5, 1)
#:set logo_color (0.65, 0.64, 0.18, 1)
#:set black (0,0,0,1)
#:set white (1,1,1,1)
#:set margin 70
#:set button_font_size 26
#:set button_height 80
#:set button_back "kuvat/nappi_tausta.png"
#:set button_back_pressed "kuvat/nappi_tausta_pressed.png"



<MenuScreen>:
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: logo_color
            Rectangle:
                pos: self.pos
                size: self.size				
            Color:
                rgba: (0,0,0,1)
            Rectangle:
                pos: self.x, self.y + margin
                size: (self.width, self.height - 2 * margin)
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: root.center_x - root.width/ 2.5, root.center_y - (root.height - 200) / 2
                size: root.height- 200, root.height-200
                source: "kuvat/taustalogo.png"
        BoxLayout:
            size_hint_y: None
            height: margin
            Label
            Label:
                id: otsikko
                text: "Kiltispiikki"
                color: black
                font_size: 30
            Label
        BoxLayout:
            padding: 0, 0, 50,0
            orientation: "horizontal"
            Label
            BoxLayout:
                id: menu_button_box
                spacing: 10
                size_hint: [.5, 1]
                orientation: "vertical"
                Label
                Button:
                    text: "Buy something"					
                    size_hint: [1, .5]
                    font_size: 27
                    background_normal: "kuvat/nappi_tausta.png"
                    background_down: "kuvat/nappi_tausta_pressed.png"
                    on_release:
                        root.manager.transition.direction="left"			
                        root.manager.current ="login"
                Button:
                    text: "Create an account"
                    size_hint: [1, .5]
                    font_size: 27
                    background_normal: "kuvat/nappi_tausta.png"
                    background_down: "kuvat/nappi_tausta_pressed.png"
                    on_release:
                        root.manager.transition.direction="left"
                        root.manager.current = "account"
                Button:
                    text: "Settings"
                    size_hint: [1, .5]
                    font_size: 27
                    background_normal: "kuvat/nappi_tausta.png"
                    background_down: "kuvat/nappi_tausta_pressed.png"
                    on_release:
                        root.manager.transition.direction="left"
                        root.manager.current = "admin"
                Button:
                    text: "to test"
                    size_hint: [1, .5]
                    font_size: 27
                    background_normal: "kuvat/nappi_tausta.png"
                    background_down: "kuvat/nappi_tausta_pressed.png"
                    on_release:
                        root.manager.transition.direction="left"
                        root.manager.current = "test"
                Label
        Label:
            size_hint_y: None
            height: margin


<LoginScreen>:
	BoxLayout:
		canvas.before:
			Color:
				rgba: logo_color
			Rectangle:
				pos: self.pos
				size: self.size				
			Color:
				rgba: (0,0,0,1)
			Rectangle:
				pos: self.x, self.y + margin
				size: (self.width, self.height - 2 * margin)
			Color:
				rgba: (1,1,1,1)
			Rectangle:
				pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
				size: root.height- 200, root.height-200
				source: "kuvat/taustalogo.png"
		orientation: "vertical"
		Label:
			id: warning_label
			size_hint_y: None
			height: margin
		BoxLayout:
			size_hint: [1, .7]
			orientation: "horizontal"
			padding: [20, 20, 20, 20]			
			BoxLayout:				
				Label
				ScrollView:
					size_hint: [None, None]
					size: [root.width/2 - 50, self.parent.height]
					GridLayout:
						canvas.before:
							Color:
								rgba: (0,0,0,.8)
							Rectangle:
								pos:self.pos
								size: self.size
						height: self.minimum_height
						do_scroll_x: False 
						cols: 2
						spacing: 5
						size_hint_y: None
						id: account_list
				Label
			BoxLayout:
				orientation: "vertical"
				BoxLayout:
					spacing:5
					Label:
						canvas.before:
							Color:
								rgba: (1,1,1,.8)
							Rectangle:
								pos:(self.pos[0], self.pos[1])
								size: (self.size[0],self.size[1])
						color: black
						font_size: 17
						id: filter_input_label
					Button:	
						text: "<-"
						on_release: root.on_remove_filter_text()
						background_normal: button_back
						background_down: button_back_pressed
						size_hint: [None,None]
						size: [50,self.parent.size[1]]
				Label:
					size_hint_y: None
					size: [self.size[0], 5]
				GridLayout:
					size_hint_y: None
					size: [self.size[0], 200]
					spacing: 5
					row_default_height: 40
					col_default_width: 40
					row_force_default: True
					col_force_default: True
					id: filter_button_container
					rows: 4				
				BoxLayout:
					orientation: "horizontal"
					Label:
						id: info_label
						size_hint: [1, .2]
						text: "Please select your account from the list"		
				
				BoxLayout:
					spacing: 5
					orientation: "horizontal"					
					canvas.before:
						Color:
							rgba: (1,1,1,.8)
						Rectangle:
							pos:(self.pos[0], self.pos[1] + 5)
							size: (self.size[0],self.size[1] - 10)
					Label:
						id: account_label
						color: black
						font_size: 17
						text: ""
					Label:
						id: customer_name_label
						color: black
						font_size: 17
					Label:
						id: tab_value_label	
						color: black
						font_size: 17
				BoxLayout:
					spacing: 5
					orientation: "horizontal"
					Button:
						size_hint: [3,1]
						font_size: button_font_size
						background_normal: "kuvat/nappi_tausta.png"
						background_down: "kuvat/nappi_tausta_pressed.png"
						text: "View tab"
						on_release: root.view_account()
					Button:
						size_hint: [3, 1]
						text: "Continue to buy"
						font_size: button_font_size
						background_normal: "kuvat/nappi_tausta.png"
						background_down: "kuvat/nappi_tausta_pressed.png"
						on_release:root.login()										
		BoxLayout:
			size_hint: [1, None]
			height: margin
			padding: 10,10
			Button:
				text: "Back to menu"
				size_hint: [.35, 1]
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release:
					root.unselect_account()
					root.manager.transition.direction="right"
					root.manager.current = "menu"
			Label



<AccountScreen>:
	BoxLayout:
		canvas.before:
			Color:
				rgba: logo_color
			Rectangle:
				pos: self.pos
				size: self.size				
			Color:
				rgba: (0,0,0,1)
			Rectangle:
				pos: self.x, self.y + margin
				size: (self.width, self.height - 2 * margin)
			Color:
				rgba: (1,1,1,1)
			Rectangle:
				pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
				size: root.height- 200, root.height-200
				source: "kuvat/taustalogo.png"
		orientation: "vertical"
		Label:
			size_hint_y: None
			height: margin
		Label:
			size_hint: [1, .3]
			font_size: 20
			text: "Fill in the following information to create an account"
		BoxLayout:
			size_hint: [1, .3]
			Label:
				text: "your account name:"
            BoxLayout:
                id: acc_name_container        
		BoxLayout:
			size_hint: [1, .3]
			Label:
				text: "your given name:"
            BoxLayout:
                id: given_name_container        
		BoxLayout:
			size_hint: [1, .3]
			Label:
				text: "your family name:"
            BoxLayout:
                id: family_name_container        
		BoxLayout:
			size_hint: [1, .3]
			Label: 
				text: "password:"
            BoxLayout:
                id: password1_container        
		BoxLayout:
			size_hint: [1, .3]
			Label: 
				text: "repeat password:"
            BoxLayout:
                id: password2_container        
		Label:
			size_hint: [1, .2]
		BoxLayout:
			size_hint: [1, .4]
			Label:
				size_hint: [.7, 1]
			Button:
				text: "Create account"
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release:	root.create_account()
			Label:
				size_hint: [.7,1]
		Label:
			id: warning_label
		BoxLayout:
			size_hint_y: None
			height: margin
			padding: 10,10
			Button:
				text: "Back to menu"
				size_hint: [.35, 1]
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release:
					root.clear_fields()
					root.manager.transition.direction="right"
					root.manager.current = "menu"
			Label
			
			
			 	
<BuyScreen>:
	BoxLayout:
		spacing: 10
		canvas.before:
			Color:
				rgba: logo_color
			Rectangle:
				pos: self.pos
				size: self.size				
			Color:
				rgba: (0,0,0,1)
			Rectangle:
				pos: self.x, self.y + margin
				size: (self.width, self.height - 2 * margin)
			Color:
				rgba: (1,1,1,1)
			Rectangle:
				pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
				size: root.height- 200, root.height-200
				source: "kuvat/taustalogo.png"
		orientation: "vertical"
		BoxLayout:
			size_hint_y: None
			size: [self.size[0],margin]
			Label:
				text: "Items in sale"
				font_size: 30
			GridLayout:
				rows: 1
				Label:
					color: black
					text_size: self.size
					halign: "left"
					valign: "middle"
					text: "user: " 
					font_size: 24	
				Label:
					size_hint_x: None
					width: self.parent.width * 2 / 5
					text_size: self.size
					valign: "middle"					
					id: account_label
					font_size: 30
				Label:
					color: black
					text_size: self.size
					halign: "center"
					valign: "middle"
					text: "tab:"
					font_size: 24
				Label:
					id: tab_value_label
					color: (1,1,1,1)
					halign: "left"
					valign: "middle"
					text_size: self.size
					font_size: 35		
		BoxLayout:
			size_hint_y: None
			height: 30
			orientation: "horizontal"
			spacing: 3
			Button:
				text: "All"
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.show_all_items()
			Button: 
				text: "Soft drinks"
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.show_soft_drinks()
			Button:
				text: "Candy"
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.show_candy()
			Button: 
				text: "Food"
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.show_food()
			Label			
		ScrollView:
			size_hint: [None, None]
			size: [root.width, list_height]
			GridLayout:
				canvas.before:
					Color:
						rgba: (1,1,1,.2)
					Rectangle:
						pos: self.pos
						size: self.size
				width: self.minimum_width
				do_scroll_y: False 
				rows: 1
				spacing: 10
				size_hint_x: None
				id: buy_item_list
		Label:
			size_hint_y: None
			size: [self.size[0], 5]
		BoxLayout:
			orientation: "horizontal"
			spacing: 5
			size_hint_y: None
			size: [self.size[0], 70]
			Label:
			    size_hint_x: None
			    size: [5, self.size[1]]
			GridLayout:
				size_hint_x: .85
				id: product_filter_button_container
				spacing: 5
				rows: 2
			Label:
				size_hint_x: .15
				canvas.before:
					Color:
						rgba: (1,1,1,.8)
					Rectangle:
						pos:(self.pos[0], self.pos[1])
						size: (self.size[0],self.size[1])
				color: black
				font_size: 25
				id: product_filter_label
			Button:	
				text: "<-"
				on_release: root.on_remove_filter_text()
				background_normal: button_back
				background_down: button_back_pressed
				size_hint: [None,None]
				size: [50,self.parent.size[1]]	
			Label:
			    size_hint_x: None
			    size: [5, self.size[1]]
		BoxLayout:
			orientation: "horizontal"
			Label:
				text: "Most\nbought:"					
				font_size: 20
			ScrollView:
				size_hint: [None, None]
				size: [root.width - 100, list_height]
				GridLayout:
					canvas.before:
						Color:
							rgba: (1,1,1,.2)
						Rectangle:
							pos: self.pos
							size: self.size
					width: self.minimum_width
					do_scroll_y: False 
					rows: 1
					spacing: 10
					size_hint_x: None
					id: most_bought_item_list
		BoxLayout:
			size_hint: [1, None]
			height: 70			
			orientation: "vertical"
			BoxLayout:
				padding: 0,0,15,0				
				Label:
					text: "Selected items"
					font_size: 18
					size_hint: [.5,1]
				BoxLayout:
					canvas.before:
						Color:
							rgba: (1,1,1,.8)
						Rectangle:
							pos:self.pos
							size: self.size
					Label:
						color: black
						font_size: 17
						id: product_name_label
					Label:
						color: black
						font_size: 17
						id: product_price_label
			Label		
		BoxLayout:
			padding: 10,10
			size_hint_y: None
			height: margin
			Button:				
				text: "Cancel"
				size_hint: [.35, 1]
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.to_login_and_logout()
			Label
			Button:
				size_hint: [.7,1]
				text: "Buy item"
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.buy_item()
			Label:
				size_hint: [.1,1]
			Button:
				size_hint: [.7,1]
				text: "Buy and logout"
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.buy_and_exit()
			Label:
				size_hint: [.1,1]	
			
<CustomerScreen>:
	BoxLayout:
		padding: 0,0,20,0
		orientation: "vertical"
		canvas.before:
			Color:
				rgba: logo_color
			Rectangle:
				pos: self.pos
				size: self.size				
			Color:
				rgba: (0,0,0,1)
			Rectangle:
				pos: self.x, self.y + margin
				size: (self.width, self.height - 2 * margin)
			Color:
				rgba: (1,1,1,1)
			Rectangle:
				pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
				size: root.height- 200, root.height-200
				source: "kuvat/taustalogo.png"
		BoxLayout:
			size_hint_y: None
			height: margin
			Label:
				text: "Your account"
				font_size: 30
			GridLayout:
				rows: 1
				Label:
					color: black
					text_size: self.size
					halign: "left"
					valign: "middle"
					text: "user: " 
					font_size: 24	
				Label:
					size_hint_x: None
					width: self.parent.width * 2 / 5
					text_size: self.size
					valign: "middle"					
					id: account_label
					font_size: 30
				Label:
					color: black
					text_size: self.size
					halign: "center"
					valign: "middle"
					text: "tab:"
					font_size: 24
				Label:
					id: tab_value_label
					color: (1,1,1,1)
					halign: "left"
					valign: "middle"
					text_size: self.size
					font_size: 35
		Label:
			text: "Here you can view your account information and add cash too your tab"
			font_size: 20 
		BoxLayout:
			size_hint: [1, .3]
			Label: 
				text: "Amount to add to tab"
			BoxLayout:
				id: add_tab_input_container
		BoxLayout:
			size_hint: [1, .3]
			Label
			Button:
				text: "Add to tab"
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release: root.add_to_tab()
		Label:
			id: warning_label
		Label
		BoxLayout:
			size_hint_y: None
			height: margin
			padding: 10,10
			Button:
				text: "Back to login"
				size_hint: [.35, 1]
				font_size: button_font_size
				background_normal: "kuvat/nappi_tausta.png"
				background_down: "kuvat/nappi_tausta_pressed.png"
				on_release:
					root.on_leave_screen()
					root.manager.transition.direction="right"
					root.manager.current = "login"
			Label				


	
			
<AdminScreen>:
    BoxLayout:
        id: main_layout
        orientation: "vertical"
        spacing: 10
        canvas.before:
            Color:
                rgba: logo_color
            Rectangle:
                pos: self.pos
                size: self.size				
            Color:
                rgba: (0,0,0,1)
            Rectangle:
                pos: self.x, self.y + margin
                size: (self.width, self.height - 2 * margin)
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
                size: root.height- 200, root.height-200
                source: "kuvat/taustalogo.png"
        Label:
            size_hint_y: None
            height: margin
        Label:
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: .3
            Label:
            Button:
                text: "Manage accounts"
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_release:
                    root.manager.transition.direction = "left"
                    root.manager.current = "acc_manage"
            Label:
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: .3
            Label:
            Button:
                text: "Manage items"
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_release:
                    root.manager.transition.direction = "left"
                    root.manager.current = "item_manage"
            Label:
        Label:
            id: warning_label		
        BoxLayout:
            size_hint_y: None
            height: margin
            padding: 10, 10
            Button:				
                size_hint: [.35, 1]
                text: "Back to menu"
                font_size: button_font_size
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_press:
                    root.manager.transition.direction="right"					 
                    root.manager.current = "menu"
            Label

			
<AccManageScreen>:
    BoxLayout:
        id: main_layout
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: logo_color
            Rectangle:
                pos: self.pos
                size: self.size				
            Color:
                rgba: (0,0,0,1)
            Rectangle:
                pos: self.x, self.y + margin
                size: (self.width, self.height - 2 * margin)
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
                size: root.height- 200, root.height-200
                source: "kuvat/taustalogo.png"
        Label:
            size_hint_y: None
            height: margin
            text: 'Manage customer accounts'
            font_size: 30            
        BoxLayout:
            size_hint_y: None
            height: button_height
            spacing: 10
            padding: 10
            Button:
                text: "Load customers from csv"
                font_size: button_font_size
                background_normal: button_back
                background_down: button_back_pressed
                on_release: root.confirm_replace_cust_db()
            Button:
                text: "Backup customers"
                font_size: button_font_size
                background_normal: button_back
                background_down: button_back_pressed
                on_release: root.confirm_backup_customers()
        BoxLayout:
            size_hint: [None,None]
            width: root.width
            height: root.height - 2*margin - 100
            Label
            ScrollView:
                size_hint: [None, None]
                size: [root.width - 20, self.parent.height]
                GridLayout:
                    canvas.before:
                        Color:
                            rgba: (0,0,0,1)
                        Rectangle:
                            pos:self.pos
                            size: self.size
                    height: self.minimum_height
                    cols: 1
                    spacing: 5
                    size_hint_y: None
                    id: customer_container
            Label
        Label:
            id: warning_label		
        BoxLayout:
            size_hint_y: None
            height: margin
            padding: 10, 10
            Button:				
                size_hint: [.35, 1]
                text: "Back to settings"
                font_size: button_font_size
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_press:
                    root.manager.transition.direction="right"					 
                    root.manager.current = "admin"
            Label


			
<ItemManageScreen>:
    BoxLayout:
        spacing: 10
        id: main_layout
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: logo_color
            Rectangle:
                pos: self.pos
                size: self.size				
            Color:
                rgba: (0,0,0,1)
            Rectangle:
                pos: self.x, self.y + margin
                size: (self.width, self.height - 2 * margin)
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
                size: root.height- 200, root.height-200
                source: "kuvat/taustalogo.png"
        Label:            
            size_hint_y: None
            height: margin
            text: 'Manage your items'
            font_size: 30
        BoxLayout:
            size_hint: [None,1]
            width: root.width
            Label
            ScrollView:
                size_hint: [None, None]
                size: [root.width - 20, self.parent.height]
                GridLayout:
                    canvas.before:
                        Color:
                            rgba: (0,0,0,1)
                        Rectangle:
                            pos:self.pos
                            size: self.size
                    height: self.minimum_height
                    cols: 1
                    spacing: 5
                    size_hint_y: None
                    id: item_manage_container
            Label
        BoxLayout:
            size_hint_y: None
            height: margin
            padding: 10, 10
            Button:				
                size_hint: [.35, 1]
                text: "Back to settings"
                font_size: button_font_size
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_press:
                    root.manager.transition.direction="right"					 
                    root.manager.current = "admin"
            Label
		

<FileScreen>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: 
                	root.manager.transition.direction = "right"
                	root.manager.current = "admin"

            Button:
                text: "Load"
                on_release:
                	root.manager.get_screen("admin").ids.image_input.text = filechooser.selection[0]
                	root.manager.transition.direction = "right"
                	root.manager.current = "admin"
                	
 
	
			
<TestScreen>:
    BoxLayout:
        id: main_layout
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: logo_color
            Rectangle:
                pos: self.pos
                size: self.size				
            Color:
                rgba: (0,0,0,1)
            Rectangle:
                pos: self.x, self.y + margin
                size: (self.width, self.height - 2 * margin)
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: root.center_x - (root.height-200) / 2, root.center_y - (root.height - 200) / 2
                size: root.height- 200, root.height-200
                source: "kuvat/taustalogo.png"
        BoxLayout:
            orientation: "vertical"
            Label:
                id: test_label1
            Label:
                id: test_label2
            Label:
                id: test_label3
            Button:
                text: "vibrate"
                on_release: root.app.stop()
                background_normal: button_back
                background_down: button_back_pressed
        BoxLayout:
            size_hint_y: None
            height: margin
            padding: 10, 10
            Button:				
                size_hint: [.35, 1]
                text: "Back to menu"
                font_size: button_font_size
                background_normal: "kuvat/nappi_tausta.png"
                background_down: "kuvat/nappi_tausta_pressed.png"
                on_press:
                    root.manager.transition.direction="right"					 
                    root.manager.current = "menu"
            Label

<CustomerLayout>
    size_hint: (None,None)
    height: manage_list_height
    width: root.container.width
    spacing: 10
    padding: 10
    canvas.before:
        Color: 
            rgba: manage_list_color
        Rectangle:
            pos:self.pos
            size: self.size 
    Label:
        text: root.customer.customer_name
    Label:
        id: balance_label
        text: str(root.customer.tab_value)
    Button:
        text: "Set new balance"
        background_normal: button_back
        background_down: button_back_pressed
        on_release: root.update_tab_value()
    Button: 
        text: "Delete account"
        background_normal: button_back
        background_down: button_back_pressed
        on_release: root.confirm_delete_customer()


<ManageItemLayout>    
    size_hint: (None,None)
    height: manage_list_height
    width: root.container.width
    spacing: 10
    padding: 10
    canvas.before:
        Color: 
            rgba: manage_list_color
        Rectangle:
            pos:self.pos
            size: self.size 
    Image:
        source: root.item.normal_background
    Label:
        text: root.item.name
    Label:
        text: str(root.item.price)
        id: price_label
    Button:
        text: 'Update price'
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
        on_release: root.update_item_price()
    Button:
        text: 'Delete item'
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
        on_release: root.confirm_delete_item()
        
<AddItemLayout>    
    size_hint: (None,None)
    height: manage_list_height
    width: root.container.width
    spacing: 10
    padding: 10
    canvas.before:
        Color: 
            rgba: manage_list_color
        Rectangle:
            pos:self.pos
            size: self.size 
    Label:
        text: 'Add new item'
    Button:
        text: 'Do it'
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
        on_release: root.container.parent.parent.parent.parent.add_item() 

	
<ItemButton>:
	width: list_height
	size_hint_x: None
	font_size: 15
	color: (0,0,0,1)
	
<AccountButton>:
	height: 50
	size_hint_y: None
	font_size: 20
	background_normal: "kuvat/nappi_tausta.png"
	background_down: "kuvat/nappi_tausta_pressed.png"
	
	
<CustomDropDown>:
    Button:
        text: 'Soft drink'
        size_hint_y: None
        height: 40
        font_size: button_font_size
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
        on_release: root.select(self.text)
    Button:
        text: 'Candy'
        size_hint_y: None
        height: 40
        on_release: root.select(self.text)
        font_size: button_font_size
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
    Button:
        text: 'Food'
        size_hint_y: None
        height: 40
        on_release: root.select(self.text)
        font_size: button_font_size
        background_normal: "kuvat/nappi_tausta.png"
        background_down: "kuvat/nappi_tausta_pressed.png"
	
	

					
