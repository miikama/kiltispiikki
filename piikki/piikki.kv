#:import sm kivy.uix.screenmanager

#:set list_height 150


<MenuScreen>:
	BoxLayout:
		canvas.before:
			Color:
				rgba: 0.2, 0.8, 0, 1
			Rectangle:
				pos: self.pos
				size: self.size
		background_color: [1, 0, 0, 1]
		orientation: "vertical"
		Label:
			text: "Kiltispiikki"
			font_size: 30
			size_hint: [1, 0.2]
		BoxLayout:
			orientation: "horizontal"
			Label:
				size_hint: [0.35, 1]
			BoxLayout:
				orientation: "vertical"
				Label:
					size_hint: [1, .2]
				AnchorLayout:
					size_hint: [1, .1]
					Button:
						on_press:
							root.manager.transition.direction="left"		
							root.manager.current ="osto"
						text: "Osta jotain"
						size_hint: [.6, .95]
				AnchorLayout:
					size_hint: [1, .1]						
					Button:
						text: "To admin window"
						size_hint: [.6, .95]
						on_press:
							root.manager.transition.direction="left"
							root.manager.current = "admin"
				Label:
					size_hint: [1, .2]
			Label:
				size_hint: [0.35, 1]
				
			 	
<BuyScreen>:
	BoxLayout:
		spacing: 10
		canvas.before:
			Color:
				rgba: 0.2, 0.8, 0, 1
			Rectangle:
				pos: self.pos
				size: self.size
		background_color: [1, 0, 0, 1]
		orientation: "vertical"
		Label:
			text: "Valikoima tuotteista"
			font_size: 30
			size_hint: [1, 0.2]				
		ScrollView:
			size_hint: [None, None]
			size: [root.width, list_height]
			GridLayout:
				width: self.minimum_width
				do_scroll_y: False 
				rows: 1
				spacing: 10
				size_hint_x: None
				id: buy_item_list				
		BoxLayout:
			orientation: "vertical"
			Label:
				size_hint: [1, .3]				
			Button:
				text: "Back to Menu"
				on_press:
					root.manager.transition.direction="right"					 
					root.manager.current = "menu"
				size_hint: [0.3, 0.1]


	
			
<AdminScreen>:
	BoxLayout:
		id: main_layout
		orientation: "vertical"
		canvas.before:
			Color:
				rgba: 0.2, 0.8, 0, 1
			Rectangle:
				pos: self.pos
				size: self.size
		Label:
			size_hint: [1, .2]
			text: "Add a new item information"
		BoxLayout:
			size_hint: [1, .2]
			BoxLayout:
				Label:
					text: "Name of the item"
				TextInput:
					id: name_input
		BoxLayout:
			size_hint: [1, .2]
			BoxLayout:
				Label:
					text: "Price of the item"
				TextInput:	
					id: price_input	
		BoxLayout:
			size_hint: [1, .2]
			BoxLayout:
				Label:
					text: "Item class"
				Button:
					text: "No class selected"
					id: dropdown_button
		GridLayout:
			size_hint: [1, .4]
			rows: 2
			columns: 2
			Label:
				text: "Background image path"
			TextInput:	
				id: image_input
			Label:
			Button:
				text: "Choose picture"
				on_press:
					root.manager.transition.direction= "left"
					root.manager.current = "select"	
		Label:
			id: warning_label
		Label:
		BoxLayout:
			size_hint: [1, .2]
			Label: 
				size_hint: [.4, 1]
			Button:
				text: "Add item"
				on_press: root.add_item()
				size_hint: [.2,1]			
			Label:
				size_hint: [.4,1]
		Button:
			padding: 30, 30
			size_hint: [.2, .2]
			text: "Back to menu"
			on_press:
				root.manager.transition.direction="right"					 
				root.manager.current = "menu"
		

<FileScreen>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: 
                	root.manager.transition.direction = "right"
                	root.manager.current = "admin"

            Button:
                text: "Load"
                on_release:
                	root.manager.get_screen("admin").ids.image_input.text = filechooser.selection[0]
                	root.manager.transition.direction = "right"
                	root.manager.current = "admin"
	
<ItemButton>:
	width: 150
	size_hint_x: None
	font_size: 30
	font_color: (0,0,0,1)
	
<CustomDropDown>:
    Button:
        text: 'Soft drink'
        size_hint_y: None
        height: 40
        on_release: root.select(self.text)
    Button:
        text: 'Candy'
        size_hint_y: None
        height: 40
        on_release: root.select(self.text)
    Button:
        text: 'Food'
        size_hint_y: None
        height: 40
        on_release: root.select(self.text)
	
	

					
